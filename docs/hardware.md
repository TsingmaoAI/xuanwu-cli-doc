# 硬件支持

玄武专为国产 AI 芯片设计，提供统一的跨硬件推理层。

## 支持的平台

| 硬件平台 | 支持型号 | 驱动要求 | 状态 |
|----------|----------|----------|------|
| **华为昇腾** | Ascend 910B, 310P | AICE | 完全支持 |
| **摩尔线程** | MTT C500, S2000 | MUSA | 完全支持 |
| **海光 DCU** | 即将推出 | DTK | 开发中 |

## 驱动安装

安装玄武前，必须先安装硬件厂商的官方驱动。

**验证驱动**

```bash
# 华为昇腾
npu-smi info

# 摩尔线程
musa-smi

# 海光 DCU (未来)
dcu-smi
```

看到设备列表即表示驱动正常。`xw doctor` 也会检查驱动状态。

## 多引擎架构

玄武自动为模型和硬件组合选择最佳推理后端：

| 引擎 | 类型 | 说明 |
|------|------|------|
| **MLGuider** | 深度优化 | 玄武自研，极致性能 (Tier 1) |
| **MindIE** | 华为原生 | 官方支持，最佳兼容性 (Tier 2) |
| **vLLM** | 社区开源 | 功能丰富，可定制 (Tier 2) |

用户无需手动选择引擎，调度器自动处理。可通过 `xw list` 或 `xw ps` 查看使用的引擎。

## 多 GPU 支持

玄武原生支持多 GPU 推理和张量并行。

**自动张量并行**

大模型会自动切分到多张卡：

```bash
xw run Qwen/Qwen2-72B  # 自动选择所需 GPU
```

**手动设备选择**

```bash
xw run Qwen/Qwen3-8B --device 0
xw run Qwen/Qwen2-72B --device 0,1,2,3
```

建议在多卡环境中明确指定设备以确保确定性。
